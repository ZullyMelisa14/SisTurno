<div class="container mt-5">
  <h2 class="fw-bold mb-4">ğŸ‘¥ GestiÃ³n de usuarios</h2>

  <div class="d-flex justify-content-end mb-3">
    <a routerLink="/admin" class="btn btn-primary rounded-pill px-4 fw-bold">
      ğŸ”™ Volver al panel
    </a>
  </div>

  <!-- Formulario para crear usuario -->
  <div class="card p-4 mb-4 shadow-sm rounded-4">
    <h5 class="mb-3">â• Crear nuevo usuario</h5>
    <form (ngSubmit)="crearUsuario()">
      <div class="mb-3">
        <input type="email" [(ngModel)]="nuevoUsuario.email" name="email" class="form-control" placeholder="Correo electrÃ³nico" required />
      </div>
      <div class="mb-3">
        <select [(ngModel)]="nuevoUsuario.role" name="role" class="form-select" required>
          <option value="" disabled selected>Seleccionar rol</option>
          <option value="admin">Admin</option>
          <option value="usuario">Usuario</option>
        </select>
      </div>
      <button type="submit" class="btn btn-success rounded-pill w-100">âœ… Crear usuario</button>
    </form>
  </div>

  <!-- Tabla de usuarios -->
<div class="table-responsive shadow-sm rounded-4 overflow-hidden border border-secondary-subtle mb-5">
  <table class="table table-striped table-hover align-middle mb-0">
    <thead class="table-primary text-primary fw-semibold">
      <tr>
        <th>ğŸ“§ Correo</th>
        <th>ğŸ­ Rol</th>
        <th class="text-center">âœï¸ Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios" class="align-middle">
        <td>
          <input [(ngModel)]="usuario.email" class="form-control form-control-sm" />
        </td>
        <td>
          <select [(ngModel)]="usuario.role" class="form-select form-select-sm">
            <option value="admin">Admin</option>
            <option value="usuario">Usuario</option>
          </select>
        </td>
        <td class="d-flex justify-content-center gap-2">
          <button (click)="actualizarUsuario(usuario)" class="btn btn-outline-primary btn-sm rounded-pill" title="Guardar">
            ğŸ’¾
          </button>
          <button (click)="eliminarUsuario(usuario.id)" class="btn btn-outline-danger btn-sm rounded-pill" title="Eliminar">
            ğŸ—‘ï¸
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</div>
