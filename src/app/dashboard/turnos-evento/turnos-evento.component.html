<div class="container mt-5">
  <h2 class="fw-bold mb-4">📝 Turnos del evento: <span class="text-primary">{{ eventoId }}</span></h2>

  <!-- Lista de turnos -->
  <div *ngIf="turnos.length > 0; else sinTurnos" class="list-group mb-4">
    <button *ngFor="let turno of turnos"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            (click)="verDetalleTurno(turno)">
      <span>👤 {{ turno.usuarioId }}</span>
      <span class="text-muted">
        {{ turno.fechaSolicitud?.toDate ? turno.fechaSolicitud.toDate() : (turno.fechaSolicitud | date:'short') }}
      </span>
    </button>
  </div>

  <ng-template #sinTurnos>
    <div class="alert alert-warning">⚠️ No hay turnos registrados para este evento.</div>
  </ng-template>

  <!-- Detalle del turno seleccionado -->
  <div *ngIf="turnoSeleccionado" class="card border-info shadow-sm p-4 mb-4">
    <h5 class="text-info fw-bold mb-3">🔍 Detalle del turno</h5>
    <p><strong>🆔 ID del turno:</strong> {{ turnoSeleccionado.id }}</p>
    <p><strong>👤 Usuario:</strong> {{ turnoSeleccionado.usuarioId }}</p>
    <p><strong>🗓️ Fecha:</strong> {{ turnoSeleccionado.fechaSolicitud?.toDate ? turnoSeleccionado.fechaSolicitud.toDate() : (turnoSeleccionado.fechaSolicitud | date:'full') }}</p>
    <p><strong>📛 Nombre:</strong> {{ turnoSeleccionado.nombre || 'N/A' }}</p>
    <p><strong>🪪 Cédula:</strong> {{ turnoSeleccionado.cedula || 'N/A' }}</p>
    <button (click)="turnoSeleccionado = null" class="btn btn-outline-secondary mt-3">❌ Cerrar detalle</button>
  </div>

  <!-- Volver -->
  <div class="text-end">
    <a routerLink="/admin" class="btn btn-outline-primary">🔙 Volver al panel</a>
  </div>
</div>
